<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>SoLSpin — Spin to Win (Hourly on Solana)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark">

  <!-- Favicon / PWA icons (uses the mascot) -->
  <link rel="icon" type="image/png" href="./assets/mascot.png" />
  <link rel="apple-touch-icon" href="./assets/mascot.png" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <!-- Display font for the logo wordmark -->
  <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@10..48,600..800&display=swap"
    rel="stylesheet" />
  <!-- UI font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet" />

  <style>
    /* === Casino marquee (chasing bulbs) === */
    .marquee { position: relative; isolation: isolate; }
    .marquee::before {
      content:""; position:absolute; inset:-3px; border-radius: 20px; padding:3px;
      background:
        radial-gradient(6px 6px at 12px 12px, rgba(255,255,255,.9), rgba(255,255,255,0) 60%) repeat,
        radial-gradient(6px 6px at 12px 12px, rgba(34,197,94,.9), rgba(34,197,94,0) 60%) repeat;
      background-size: 32px 32px, 32px 32px;
      animation: bulbs 1.1s linear infinite;
      opacity:.9; pointer-events:none;
      mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude;
    }
    @keyframes bulbs { to { background-position: -32px 0, 32px 0; } }
    @media (prefers-reduced-motion: reduce){ .marquee::before { animation:none; } }
    /* =========================
       THEME & TOKENS
       ========================= */
    :root {
    /* === Darker Neon Theme (opt-in via body.neon) === */
    body.neon {
      --fg: #e5e7eb;
      --muted: #9ca3af;
      --bd: #1f2937;
      --card: rgba(6, 10, 22, .82);
      --shadow: 0 16px 40px rgba(0,0,0,.55);
      --shadow-hover: 0 26px 60px rgba(0,0,0,.7);
      --wheel-rim: #020617;
      --bg-a: rgba(56,189,248,.28);   /* cyan */
      --bg-b: rgba(168,85,247,.26);   /* purple */
      --bg-c: rgba(34,197,94,.22);    /* green */
    }
    body.neon .app-bg{
      background-color:#020617;
      background:
        radial-gradient(1000px 600px at 15% 0%, var(--bg-a), transparent 60%),
        radial-gradient(900px 700px at 110% 20%, var(--bg-b), transparent 60%),
        radial-gradient(800px 600px at 50% 120%, var(--bg-c), transparent 60%),
        linear-gradient(180deg, #0b1220 0%, #020617 60%, #0b1220 100%);
    }
    body.neon .app-bg::after{
      opacity:.18;
      filter:saturate(1.15) hue-rotate(10deg) blur(.3px);
    }
    body.neon .site-header{
      background: linear-gradient(180deg, rgba(2,6,23,.75), rgba(2,6,23,.6));
      box-shadow: 0 10px 40px rgba(0,0,0,.6);
    }
    body.neon .site-header::before{
      background: linear-gradient(135deg, rgba(56,189,248,.6), rgba(34,197,94,.45), rgba(168,85,247,.55));
    }
    body.neon .card{
      background: linear-gradient(180deg, rgba(2,6,23,.75), rgba(2,6,23,.6));
      border-color:#0f172a;
    }
    body.neon .card:hover{
      border-color:#1f2937;
    }
    body.neon .title .chip{
      background:#0b1220; color:#e5e7eb; border-color:#1f2937;
    }
    body.neon .pill{ background:#0b1220; color:#e5e7eb; border-color:#1f2937; }
    body.neon input[type="text"]{ background:transparent; color:#e5e7eb; border-color:#1f2937; }
    body.neon .wheel{
      border: 10px solid #020617;
      background:#0b1220;
      box-shadow: inset 0 0 0 6px rgba(255,255,255,.04), 0 28px 60px rgba(0,0,0,.75);
    }
    body.neon .wheel::after{
      box-shadow: 0 0 0 6px rgba(56,189,248,.28), 0 0 90px rgba(168,85,247,.35) inset, 0 0 70px rgba(34,197,94,.18) inset;
    }
    body.neon .pointer{
      border-top-color:#e2e8f0; filter: drop-shadow(0 3px 6px rgba(0,0,0,.75));
    }
    body.neon .mechanics{
      background:
        radial-gradient(120% 120% at -10% -10%, rgba(14,165,233,.25) 0 40%, transparent 40%),
        radial-gradient(120% 120% at 110% 10%, rgba(168,85,247,.22) 0 42%, transparent 42%),
        linear-gradient(135deg,#0b1220 0%, #0f172a 45%, #111827 100%);
      border:1px solid #111827;
      box-shadow: 0 16px 60px rgba(0,0,0,.7), inset 0 1px 0 rgba(255,255,255,.04);
      color:#e5e7eb;
    }
    body.neon .mechanics-list li{ background: rgba(2,6,23,.55); border-color:#1f2937; }
    body.neon .mechanics-list li strong{ color:#f8fafc; text-shadow:none; }
    body.neon .mechanics-list li .desc{ color:#dbeafe; }
    body.neon .mechanics-list code{ background:#0b1220; border-color:#1f2937; }
      --fg: #0b0b11;
      --muted: #6b7280;
      --bd: #e5e7eb;
      --ring: #38bdf8;
      --card: #ffffffee;
      --shadow: 0 10px 30px rgba(2, 6, 23, .08);
      --shadow-hover: 0 18px 40px rgba(2, 6, 23, .12);
      --grad-1: #0ea5e9;
      --grad-2: #22c55e;
      --grad-3: #8b5cf6;
      --bg-a: rgba(14,165,233,.32);
      --bg-b: rgba(139,92,246,.28);
      --bg-c: rgba(34,197,94,.24);
      --wheel-rim: #0f172a;

      /* NEW: brand font (easy to swap later) */
      --brand-font: "Bricolage Grotesque", Inter, system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --fg: #e5e7eb;
        --muted: #9ca3af;
        --bd: #1f2937;
        --card: #0b1220cc;
        --shadow: 0 10px 30px rgba(0, 0, 0, .45);
        --shadow-hover: 0 18px 40px rgba(0, 0, 0, .6);
        --wheel-rim: #111827;
      }
    }

    /* GLOBAL */
    * {
      box-sizing: border-box
    }

    html,
    body {
      height: 100%
    }

    body {
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
      color: var(--fg);
      margin: 0;
      line-height: 1.55;
      -webkit-font-smoothing: antialiased;
    }

    /* Layered animated background */
    .app-bg {
      position: fixed;
      inset: 0;
      z-index: -1;
      background-color: #f8fafc;
      background:
        radial-gradient(1000px 600px at 15% 0%, var(--bg-a), transparent 60%),
        radial-gradient(900px 700px at 110% 20%, var(--bg-b), transparent 60%),
        radial-gradient(800px 600px at 50% 120%, var(--bg-c), transparent 60%),
        linear-gradient(180deg, #f0f9ff 0%, #ffffff 55%, #fff7ed 100%);
    }

    @keyframes floaty {
      0% {
        filter: hue-rotate(0deg) saturate(1)
      }

      100% {
        filter: hue-rotate(12deg) saturate(1.1)
      }
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 34px 20px 60px;
    }

    /* =========================
       HEADER (centered brand)
       ========================= */
    .site-header {
      display: flex;
      flex-direction: column;
      gap: 24px;
      padding: 22px 18px;
      border-radius: 20px;
      background: var(--card);
      box-shadow: var(--shadow);
      backdrop-filter: blur(6px);
      position: relative;
      width: 100%;
      box-sizing: border-box;
      overflow: hidden;         /* keep content inside rounded border */
    }
    .site-header::before {
      content:"";
      position:absolute;
      inset:-1px;
      border-radius: inherit;
      padding:1px;
      background: linear-gradient(135deg, rgba(14,165,233,.45), rgba(34,197,94,.35), rgba(139,92,246,.35));
      mask:
        linear-gradient(#000 0 0) content-box,
        linear-gradient(#000 0 0);
      -webkit-mask:
        linear-gradient(#000 0 0) content-box,
        linear-gradient(#000 0 0);
      -webkit-mask-composite: xor;
              mask-composite: exclude;
      pointer-events:none;
    }

    .brand {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 24px;
      position: relative;
      text-align: center;
    }

    /* Mascot badge */
    .mascot-badge {
      width: 120px;
      height: 120px;
      flex: 0 0 120px;
      border-radius: 50%;
      position: relative;
      overflow: hidden;
      box-shadow: 0 10px 22px rgba(2, 6, 23, .22), inset 0 0 0 2px rgba(255, 255, 255, .9);
      background: radial-gradient(60% 60% at 30% 20%, rgba(255, 255, 255, .72), transparent 60%), #fff;
      animation: mascotPulse 3.5s ease-in-out infinite;
    }

    @media (max-width: 640px) {
      .mascot-badge {
        width: 84px;
        height: 84px;
        flex: 0 0 84px;
      }
      .brand { gap: 16px; }
    }

    .mascot-badge img {
      position: absolute;
      inset: -10% -10% -10% -10%;
      width: 120%;
      height: 120%;
      object-fit: cover;
      filter: saturate(1.08) contrast(1.05);
    }

    .mascot-ring {
      position: absolute;
      inset: -4px;
      border-radius: inherit;
      pointer-events: none;
      box-shadow: 0 0 0 3px rgba(14, 165, 233, .24), 0 0 0 8px rgba(34, 197, 94, .16), 0 0 28px rgba(139, 92, 246, .25);
    }

    /* Fancy title — NOW uses brand font */
    .brand h1 {
      margin: 0;
      font-family: var(--brand-font);
      font-weight: 800;
      letter-spacing: -.02em;
      line-height: 1.02;
      font-size: clamp(46px, 7.5vw, 68px);
      /* rich gradient */
      background: linear-gradient(95deg, #34d399 0%, #38bdf8 28%, #a855f7 62%, #f59e0b 100%);
      background-size: 220% auto;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      /* subtle emboss + depth */
      text-shadow: 0 2px 0 rgba(255, 255, 255, .25), 0 6px 16px rgba(2, 6, 23, .18);
      animation: gradientShift 9s linear infinite;
    }

    /* SVG wordmark styling */
    /* Logo shine sweep */
    .wordmark-wrap { position:relative; overflow:hidden; }
    .wordmark-wrap::after{
      content:""; position:absolute; top:-20%; left:-20%; width:40%; height:140%;
      background: linear-gradient(120deg, rgba(255,255,255,.0) 0%, rgba(255,255,255,.35) 50%, rgba(255,255,255,.0) 100%);
      transform: skewX(-20deg); filter: blur(2px); opacity:.0; animation: shine 18s ease-in-out infinite;
      pointer-events:none; }
    @keyframes shine { 0%, 86% { transform: translateX(-120%) skewX(-20deg); opacity:0; }
      90% { opacity:.85; } 98%,100% { transform: translateX(260%) skewX(-20deg); opacity:0; } }
    @media (prefers-reduced-motion: reduce){ .wordmark-wrap::after{ animation:none; } }

    .wordmark-wrap { display:block; }
    svg.wordmark { width: min(84vw, 820px); height: auto; display:block; }
    .wordmark text {
      font-family: var(--brand-font);
      font-weight: 900;
      letter-spacing: -0.015em;
      dominant-baseline: hanging;
      paint-order: stroke fill;
      stroke: rgba(255,255,255,.9);
      stroke-width: 1.5px;
    }
    @media (max-width:640px){
      svg.wordmark { width: 88vw; }
      .wordmark text { stroke-width: 1.1px; }
    }

    .brand .sub.wordmark-sub { margin-top: 10px; }

    .brand .sub {
      color: var(--muted);
      font-size: 15px;
      margin-top: 6px;
      font-weight: 500;
    }

    /* Status pill now below brand */
    .status-pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid var(--bd);
      background: #0f172a;
      color: #e5e7eb;
      box-shadow: 0 6px 18px rgba(2, 6, 23, .25);
      font-weight: 600;
      font-size: 13px;
    }

    .status-pill .dot {
      position: relative;
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: #10b981; /* emerald */
      box-shadow: 0 0 0 3px rgba(16, 185, 129, .28), 0 0 14px rgba(16,185,129,.55);
      animation: liveFlicker 1.2s infinite, livePulse 1.4s ease-in-out infinite;
    }
    .status-pill .dot::after {
      content: "";
      position: absolute;
      inset: -6px;
      border-radius: inherit;
      background: radial-gradient(circle, rgba(16,185,129,.35), transparent 55%);
      filter: blur(1px);
      animation: liveGlow 2.4s ease-in-out infinite;
      pointer-events: none;
    }

    @keyframes liveFlicker {
      0%   { opacity: 1; }
      5%   { opacity: .2; }
      10%  { opacity: .95; }
      15%  { opacity: .3; }
      20%  { opacity: 1; }
      25%  { opacity: .1; }
      30%  { opacity: .9; }
      40%  { opacity: .25; }
      50%  { opacity: 1; }
      60%  { opacity: .2; }
      70%  { opacity: .95; }
      80%  { opacity: .3; }
      90%  { opacity: 1; }
      100% { opacity: .15; }
    }
    @keyframes livePulse {
      0%,100% { transform: scale(1); box-shadow: 0 0 0 3px rgba(16,185,129,.28), 0 0 12px rgba(16,185,129,.5); }
      50%     { transform: scale(1.06); box-shadow: 0 0 0 3px rgba(16,185,129,.34), 0 0 18px rgba(16,185,129,.7); }
    }
    @keyframes liveGlow {
      0%,100% { opacity: .45; transform: scale(1); }
      50%     { opacity: .75; transform: scale(1.08); }
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .status-pill .dot,
      .status-pill .dot::after { animation: none; }
    }

    /* === Coin rain & wheel winning FX === */
    .coin { position: fixed; top:-40px; width: 22px; height:22px; border-radius:50%;
      background: radial-gradient(circle at 30% 30%, #ffd166, #f59e0b 70%, #92400e);
      box-shadow: inset 0 0 0 3px rgba(255,255,255,.25), 0 4px 10px rgba(0,0,0,.35);
      z-index: 9999; pointer-events:none; animation: coinFall 2.4s linear forwards, coinSpin .8s linear infinite; }
    @keyframes coinFall { to { transform: translateY(110vh) rotate(0); opacity:.95; } }
    @keyframes coinSpin { to { transform: rotateY(1turn); } }
    @media (prefers-reduced-motion: reduce){ .coin { animation: coinFall 1.6s linear forwards; } }

    .shake { animation: wheelShake .6s cubic-bezier(.36,.07,.19,.97); }
    @keyframes wheelShake {
      10%, 90% { transform: translateX(-1px); }
      20%, 80% { transform: translateX(2px); }
      30%, 50%, 70% { transform: translateX(-4px); }
      40%, 60% { transform: translateX(4px); }
    }
    .jackpot { position:absolute; inset:-8px; border-radius:22px; pointer-events:none;
      background: radial-gradient(circle at 50% 40%, rgba(255,255,255,.7), rgba(255,214,10,.5) 30%, transparent 60%);
      mix-blend-mode: screen; opacity:0; animation: jp .9s ease forwards; }
    @keyframes jp { 0%{opacity:0} 30%{opacity:1} 100%{opacity:0} }

    .header-left {
      display: flex;
      flex-direction: column;
      gap: 18px;
      align-items: center;
      width: 100%;
      min-width: 0;
      box-sizing: border-box;
    }

    .status-row {
      display: flex;
      gap: 14px;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
    }

    .status-row > * {
      flex: 0 0 auto;
    }

    /* === HERO ROW FLEXBOX for panda + market cap === */
    .hero-row {
      display: flex;
      align-items: center;
      gap: 1.5rem;
      justify-content: flex-start; /* or space-between if you want them apart */
    }

    .hero-row .panda-hero {
      flex: 0 0 120px; /* fixed size for panda */
    }

    .hero-row .marketcap-display,
    .hero-row .market-cap-card {
      flex: 1;
    }

    .panda-hero {
      width: min(320px, 100%);
      aspect-ratio: 1 / 1; /* keep hero square so image doesn't drift */
      align-self: center;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 26px 70px rgba(8, 47, 73, .35);
      background: radial-gradient(circle at 20% 20%, rgba(14,165,233,.12), transparent 60%),
                  radial-gradient(circle at 80% 0%, rgba(34,197,94,.1), transparent 65%),
                  rgba(15, 23, 42, .85);
      border: 1px solid rgba(148, 163, 184, .25);
      z-index: 1;
    }

    .panda-hero img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;         /* fill card, crop evenly */
      object-position: center;   /* center focal point */
      margin: 0;                 /* prevent stray gaps */
    }

    .panda-hero { position: relative; }
    .panda-hero::after{
      content:""; position:absolute; inset:-10%;
      background:
        radial-gradient(400px 160px at 30% 0%, rgba(250,204,21,.15), transparent 70%),
        radial-gradient(420px 160px at 70% 0%, rgba(34,197,94,.12), transparent 70%);
      pointer-events:none; mix-blend-mode: screen; filter: blur(1px);
      animation: beams 7s ease-in-out infinite alternate; }
    @keyframes beams { from { opacity:.35; } to { opacity:.7; } }
    @media (prefers-reduced-motion: reduce){ .panda-hero::after{ animation:none; } }
    .ticker { margin-top: 12px; overflow: hidden; border-radius: 10px;
      border: 1px solid rgba(148,163,184,.3); background: rgba(2,6,23,.5);
      color:#cbd5e1; font-weight:600; }
    .ticker .track { white-space: nowrap; padding: 8px 0; animation: scroll 20s linear infinite; }
    @keyframes scroll { from { transform: translateX(100%);} to { transform: translateX(-100%);} }
    @media (prefers-reduced-motion: reduce){ .ticker .track{ animation: none; } }
      display: block;
      width: 100%;
      height: auto;
    }

    @media (min-width: 900px) {
      .site-header {
        display: grid;
        grid-template-columns: minmax(0, 1fr) auto;
        align-items: center;
        justify-content: space-between;
        gap: 40px;
      }

      .header-inner {
        flex-direction: row;
        align-items: center;
        justify-content: flex-start;
        text-align: left;
        width: 100%;
        gap: 32px;
      }

      .brand {
        justify-content: flex-start;
        text-align: left;
      }

      .header-left {
        align-items: flex-start;
        gap: 20px;
      }

      .status-row {
        justify-content: flex-start;
      }

      .panda-hero {
        width: clamp(260px, 28vw, 340px);
        margin: 0;
      }
    }

    .marketcap-display {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      padding: 16px 24px;
      border-radius: 18px;
      background: rgba(14, 165, 233, 0.12);
      border: 1px solid rgba(59, 130, 246, 0.28);
      color: #0ea5e9;
      box-shadow: 0 18px 38px rgba(14, 165, 233, .25);
      min-width: 220px;
    }

    .marketcap-display .label {
      text-transform: uppercase;
      font-size: 13px;
      letter-spacing: 0.14em;
      color: rgba(14,165,233,.76);
      font-weight: 700;
    }

    .marketcap-display .value {
      font-size: clamp(32px, 4vw, 50px);
      font-weight: 800;
      line-height: 1.1;
      color: #0ea5e9;
      text-shadow: 0 10px 30px rgba(14,165,233,.35);
    }

    /* Animations */
    @keyframes gradientShift {
      0% {
        background-position: 0% 50%
      }

      100% {
        background-position: 220% 50%
      }
    }

    @keyframes mascotPulse {

      0%,
      100% {
        transform: scale(1)
      }

      50% {
        transform: scale(1.06)
      }
    }

    /* Section title */
    .section-title {
      display: flex;
      align-items: center;
      gap: 10px;
      margin: 18px 0 10px;
      font-size: 14px;
      font-weight: 800;
      letter-spacing: .1em;
      text-transform: uppercase;
      color: var(--muted);
    }

    .section-title::after {
      content: "";
      flex: 1;
      height: 1px;
      background: linear-gradient(90deg, var(--bd), transparent);
    }

    /* Grid */
    .grid {
      display: grid;
      gap: 24px;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    }

    /* Card */
    .card {
      border: 1px solid var(--bd);
      border-radius: 16px;
      padding: 18px;
      background: var(--card);
      box-shadow: var(--shadow);
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
      position: relative;
    }

    .card:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-hover);
      border-color: #cbd5e1;
    }

    .title {
      margin: 0 0 6px;
      font-size: 20px;
      font-weight: 800;
      letter-spacing: -.01em;
      display: inline-flex;
      align-items: center;
      gap: 10px;
    }

    .title .chip {
      font-size: 10px;
      font-weight: 700;
      letter-spacing: .08em;
      text-transform: uppercase;
      padding: 3px 6px;
      border-radius: 999px;
      border: 1px solid var(--bd);
      color: #0b0b11;
      background: #f8fafc;
    }

    @media (prefers-color-scheme:dark) {
      .title .chip {
        background: #0b1220;
        color: #e5e7eb;
      }
    }

    .muted {
      color: var(--muted);
    }

    /* Wheels */
    .center {
      text-align: center
    }

    .wheel {
      width: 320px;
      height: 320px;
      border-radius: 50%;
      border: 10px solid color-mix(in oklab, var(--wheel-rim) 88%, #020617);
      margin: 18px auto 8px;
      position: relative;
      overflow: visible;
      background: #fff;
      box-shadow: inset 0 0 0 6px rgba(0, 0, 0, 0.06), 0 18px 40px rgba(2, 6, 23, 0.16);
    }

    .wheel::after {
      content: "";
      position: absolute;
      inset: -6px;
      border-radius: 50%;
      pointer-events: none;
      box-shadow: 0 0 0 6px rgba(14, 165, 233, .12), 0 0 60px rgba(99, 102, 241, .18) inset;
    }
    .wheel-wrap {
      position: relative;
      padding: 8px 8px 14px;
      border-radius: 20px;
      background: linear-gradient(180deg, rgba(14,165,233,.10), rgba(139,92,246,.08));
    }

    .pointer {
      width: 0;
      height: 0;
      border-left: 12px solid transparent;
      border-right: 12px solid transparent;
      border-top: 24px solid #111;
      position: absolute;
      top: -2px;
      left: calc(50% - 12px);
      z-index: 3;
      filter: drop-shadow(0 3px 3px rgba(0, 0, 0, .45));
    }

    .wheel-svg {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      overflow: hidden;
      z-index: 1;
      will-change: transform;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border: 1px solid var(--bd);
      border-radius: 999px;
      font-size: 12px;
      background: #fff;
      color: #111;
    }
    .pill.pill-link { text-decoration: none; cursor: pointer; }
    .pill.pill-link:hover { text-decoration: underline; }

    .pill.info {
      background: #eff6ff;
      border-color: #bfdbfe;
    }

    @media (prefers-color-scheme:dark) {
      .pill {
        background: #0b1220;
        color: #e5e7eb;
      }
    }

    input[type="text"] {
      padding: 10px 12px;
      border: 1px solid var(--bd);
      border-radius: 10px;
      outline: none;
      transition: border-color .15s ease, box-shadow .15s ease;
      width: 100%;
      background: transparent;
      color: var(--fg);
    }

    input[type="text"]:focus {
      border-color: var(--ring);
      box-shadow: 0 0 0 3px color-mix(in lab, var(--ring) 25%, transparent);
    }

    .row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px dashed var(--bd);
    }

    /* Lists */
    ul {
      margin: 0;
      padding: 0;
      list-style: none;
    }

    #recent li,
    #milestones li {
      padding: 10px 12px;
      border: 1px solid var(--bd);
      border-radius: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #fff;
    }

    /* --- Recent payouts layout fixes --- */
    #recent { list-style: none; margin: 0; padding: 0; }
    #recent li {
      display: flex;
      flex-wrap: wrap;            /* allow items to wrap to next line */
      align-items: center;
      gap: 8px;                   /* spacing between chunks */
      margin: 8px 0;              /* vertical rhythm */
      line-height: 1.4;
    }
    #recent li code,
    #recent li .mono,
    #recent li a {
      overflow-wrap: anywhere;    /* break long base58/tx strings when needed */
      word-break: break-word;
    }

    @media (prefers-color-scheme:dark) {

      #recent li,
      #milestones li {
        background: #0b1220;
      }
    }

    .badge-row {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      align-items: center;
    }

    .badge {
      font-size: 12px;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid var(--bd);
      background: #fff;
      color: #111;
    }

    .badge.on {
      background: #dcfce7;
      border-color: #86efac;
    }

    .badge.off {
      background: #f1f5f9;
      border-color: #e5e7eb;
      color: #64748b;
    }

    .activation-banner {
      margin-top: 14px;
      padding: 12px 16px;
      border-radius: 12px;
      font-weight: 700;
      font-size: 16px;
      background: #fef3c7;
      border: 1px solid #facc15;
      color: #92400e;
      display: none;
    }

    body.neon .activation-banner {
      background: linear-gradient(135deg, rgba(253,224,71,.16), rgba(251,191,36,.12));
      border-color: rgba(251,191,36,.45);
      color: #fefce8;
      text-shadow: 0 1px 2px rgba(2,6,23,.55);
    }

    .activation-banner.show {
      display: block;
    }

    .banner {
      margin-top: 8px;
      padding: 6px 10px;
      border-radius: 6px;
      font-weight: 600;
      background: #fef3c7;
      border: 1px solid #fcd34d;
      color: #92400e;
      display: none;
    }

    .banner.show {
      display: block;
    }

    .result {
      margin-top: 8px;
      font-weight: 800;
      font-size: 18px;
    }

    /* Buttons */
    button.primary {
      padding: 10px 16px;
      border-radius: 12px;
      border: 1px solid color-mix(in lab, var(--ring) 60%, #0284c7);
      background: linear-gradient(180deg, #38bdf8, #0ea5e9);
      color: #fff;
      cursor: pointer;
      box-shadow: 0 8px 18px rgba(14, 165, 233, .35);
      transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
    }

    button.primary:hover {
      filter: brightness(.98);
      transform: translateY(-1px);
      box-shadow: 0 10px 22px rgba(14, 165, 233, .45);
    }

    .foot {
      margin-top: 18px;
      text-align: center;
      color: var(--muted);
      font-size: 12px;
    }

    .mono {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    }

    /* Force long contract addresses to wrap nicely */
    #tokenMint {
      display: block;
      max-width: 100%;
      overflow-wrap: anywhere;
      word-break: break-word;
      white-space: normal;
      font-size: 12px;
      line-height: 1.35;
    }
    @media (min-width: 900px) {
      #tokenMint { font-size: 13px; }
    }

    /* =========================
       FUN MECHANICS PALETTE
       ========================= */
    .card.mechanics {
      --mx1: #7c3aed;
      --mx2: #06b6d4;
      --mx3: #22c55e;
      --mx4: #f59e0b;
      background:
        radial-gradient(120% 120% at -10% -10%, color-mix(in oklab, var(--mx2) 35%, transparent) 0 40%, transparent 40%),
        radial-gradient(120% 120% at 110% 10%, color-mix(in oklab, var(--mx1) 30%, transparent) 0 42%, transparent 42%),
        linear-gradient(135deg,
          color-mix(in oklab, #0b1220 55%, var(--mx1) 45%) 0%,
          color-mix(in oklab, #0b1220 55%, var(--mx2) 45%) 45%,
          color-mix(in oklab, #0b1220 55%, var(--mx3) 45%) 100%);
      border: 1px solid rgba(255, 255, 255, .12);
      color: #f8fafc;
      box-shadow: 0 10px 40px rgba(2, 6, 23, .35), inset 0 1px 0 rgba(255, 255, 255, .06);
      backdrop-filter: blur(6px);
    }

    .mechanics-list {
      display: grid;
      gap: 12px;
      margin: 0;
      padding: 14px;
    }

    .mechanics-list li {
      display: grid;
      grid-template-columns: minmax(140px, 220px) 1fr;
      gap: 14px;
      padding: 16px 18px;
      background: rgba(255, 255, 255, .06);
      border: 1px solid rgba(255, 255, 255, .18);
      border-radius: 14px;
      box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .06);
      line-height: 1.65;
    }

    .mechanics-list li strong {
      font-size: 16px;
      font-weight: 800;
      color: #fff;
      letter-spacing: .01em;
      margin-top: 1px;
      white-space: nowrap;
      text-shadow: 0 1px 0 rgba(0, 0, 0, .25);
    }

    .mechanics-list li .desc {
      color: #eef2ff;
    }

    .mechanics-list code {
      background: rgba(0, 0, 0, .35);
      border: 1px solid rgba(255, 255, 255, .22);
      color: #fff;
      padding: 2px 6px;
      border-radius: 6px;
    }

    @media (max-width:640px) {
      .mechanics-list li {
        grid-template-columns: 1fr;
      }

      .mechanics-list li strong {
        margin-bottom: 4px;
      }
    }
  </style>
</head>

<body class="neon">
  <div class="app-bg" aria-hidden="true"></div>

  <div class="container">
    <!-- HEADER (centered brand, status below) -->
    <header class="site-header">
      <div class="header-left">
        <div class="brand">
          <span class="mascot-badge" aria-hidden="true">
            <img src="./assets/mascot.png" alt="" decoding="async" />
            <span class="mascot-ring"></span>
          </span>
          <div>
            <div class="wordmark-wrap" aria-label="SoLSpin">
              <svg class="wordmark" viewBox="0 0 1200 220" role="img">
              <defs>
                <!-- Gradient fill -->
                <linearGradient id="wm-grad" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" stop-color="#34d399"/>
                  <stop offset="28%" stop-color="#38bdf8"/>
                  <stop offset="62%" stop-color="#a855f7"/>
                  <stop offset="100%" stop-color="#f59e0b"/>
                </linearGradient>
                <!-- Soft neon glow -->
                <filter id="wm-glow" x="-40%" y="-60%" width="180%" height="220%">
                  <feGaussianBlur stdDeviation="6" result="blur"/>
                  <feColorMatrix in="blur" type="matrix"
                    values="1 0 0 0 0
                            0 1 0 0 0
                            0 0 1 0 0
                            0 0 0 .9 0" result="glow"/>
                  <feMerge>
                    <feMergeNode in="glow"/>
                    <feMergeNode in="SourceGraphic"/>
                  </feMerge>
                </filter>
              </defs>
              <!-- Shadow/backlight -->
              <text x="10" y="24" font-size="172" fill="rgba(2,6,23,.55)" opacity=".65">SoLSpin</text>
              <!-- Main gradient text with glow -->
              <text x="0" y="16" font-size="172" fill="url(#wm-grad)" filter="url(#wm-glow)">SoLSpin</text>
            </svg>
            </div>
            <div class="sub wordmark-sub">Hourly on-chain wheel • Verifiable randomness • Real USDC rewards on Solana</div>
          </div>
        </div>
        <div class="hero-row">
          <div class="panda-hero">
            <img src="./assets/panda-wheel.png" alt="Smiling panda spinning the SoLSpin prize wheel surrounded by cash" loading="lazy" />
          </div>
          <div id="marketCapPanel" class="marketcap-display marquee market-cap-card" role="status" aria-live="polite">
            <div class="label">Market Cap</div>
            <div id="marketCapValue" class="value">—</div>
          </div>
        </div>
        <div class="status-row">
          <div class="status-pill" role="status" aria-live="polite">
            <span class="dot"></span>
            Live
          </div>
        </div>
        <div id="ticker" class="ticker" aria-live="polite">
          <div class="track">🎰 Now Spinning • Recent winners will appear here • Follow @SolSpin • Next draw soon…</div>
        </div>
      </div>
    </header>

    <!-- DRAW -->
    <div class="section-title">Hourly Draw</div>
    <div class="grid">
      <!-- Amount Wheel -->
      <div class="card center">
        <div class="title">Amount Wheel <span class="chip">Prize</span></div>
        <div class="muted">Chooses the prize amount each hour.</div>
        <div class="wheel-wrap marquee">
          <div class="wheel" id="amountWheel">
            <div class="pointer"></div>
            <svg class="wheel-svg" viewBox="0 0 100 100" id="amountSvg" aria-label="Amount Wheel"></svg>
          </div>
        </div>
        <div class="pill">Tiers: <span id="tiersText"></span></div>
        <div id="amountBanner" class="banner"></div>
        <div id="amountResult" class="result"></div>
      </div>

      <!-- Wallet Wheel -->
      <div class="card center">
        <div class="title">Wallet Wheel <span class="chip">Winner</span></div>
        <div class="muted">Chooses an eligible holder.</div>
        <div class="wheel-wrap marquee">
          <div class="wheel" id="walletWheel">
            <div class="pointer"></div>
            <svg class="wheel-svg" viewBox="0 0 100 100" id="walletSvg" aria-label="Wallet Wheel"></svg>
          </div>
        </div>
        <div class="pill">Weight mode: <code id="weightMode">balance</code></div>
        <div id="walletBanner" class="banner"></div>
        <div id="walletResult" class="result"></div>
      </div>

      <!-- Status / History -->
      <div class="card">
        <div class="title">Status & History <span class="chip">Info</span></div>
        <div class="row">
          <div class="muted">Token:</div>
          <div><code id="tokenTicker">YOUR</code></div>
        </div>
        <div class="row">
          <div class="muted">CA:</div>
          <div><code id="tokenMint" class="mono">set-in-.env</code></div>
        </div>
        <div class="row">
          <div class="muted">Recurring:</div>
          <div><span id="recurringState" class="pill">not active</span></div>
        </div>
        <div class="row">
          <div class="muted">Next draw in:</div>
          <div><span id="countdown" class="pill">—</span></div>
        </div>
        <div class="row" style="align-items:flex-start">
          <div class="muted" style="padding-top:4px">Milestones:</div>
          <div class="badge-row" id="milestoneBadges"></div>
        </div>

        <h3 class="section-title" style="margin-top:18px">Recent payouts</h3>
        <ul id="recent"></ul>

        <h3 class="section-title" style="margin-top:18px">Milestone winners</h3>
        <ul id="milestones"></ul>

        <h3 class="section-title" style="margin-top:18px">Check my wallet</h3>
        <form id="checkForm" class="row" onsubmit="return false;"
          style="flex-direction:column;align-items:flex-start;gap:8px;border-bottom:none">
          <input id="checkAddr" type="text" placeholder="Enter wallet address" class="mono">
          <button class="primary" id="checkBtn" type="button">Check</button>
          <div id="checkResult" class="muted" style="margin-top:4px"></div>
        </form>
        <!-- Last TX link (populated by wheel.js) -->
        <div class="kv-row" id="lastTxRow" style="display:none;margin-top:8px;align-items:center;gap:8px;">
          <span class="kv-label">Last tx:</span>
          <a id="lastTxLink" href="#" target="_blank" rel="noopener" class="pill pill-link">View on Explorer →</a>
        </div>

      </div>
    </div>

    <!-- MECHANICS -->
    <div class="section-title">Mechanics</div>
    <div class="card mechanics">
      <ul class="mechanics-list">
        <li>
          <strong>Two-Wheel Draw (Hourly)</strong>
          <div class="desc">Amount Wheel picks a prize from <code>$500</code>, <code>$200</code>, <code>$100</code>,
            <code>$50</code>, <code>$10</code>. At <strong>$5M FDV</strong>, a <code>$1,000</code> tier is added.</div>
        </li>
        <li>
          <strong>Wallet Wheel</strong>
          <div class="desc">Selects an eligible holder.
          </div>
        </li>
        <li>
          <strong>Milestones</strong>
          <div class="desc"><code>$100k</code> → 5 wallets × <code>$100</code>; <code>$500k</code> → 5 wallets ×
            <code>$200</code>; <code>$1M</code> → 2 wallets × <code>$500</code>; <code>$5M</code> → unlocks
            <code>$1,000</code> tier.</div>
        </li>
        <li>
          <strong>Schedule</strong>
          <div class="desc">Spins run every hour. The countdown shows time to the next draw.</div>
        </li>
        <li>
          <strong>Randomness &amp; Fairness</strong>
          <div class="desc">Seed derived from Solana blockhash/height + hourly bucket Winner chosen with the <em>Vose alias method</em>. All artifacts
            logged per draw.</div>
        </li>
        <li>
          <strong>Payouts</strong>
          <div class="desc">Rewards in USDC; winner’s token account auto-created if needed (ATA).</div>
        </li>
      </ul>
    </div>
  </div>

  <!-- FX canvas used by wheel.js -->
  <canvas id="fx" style="position:fixed; inset:0; width:100%; height:100%; pointer-events:none; z-index:999;"></canvas>

</div>
  <!-- App logic -->
  <script src="./wheel.js"></script>
  <script>
    // USD compact formatter for ticker (optional reuse)
    const fmtCompactUsd = n => (n==null? '—' : new Intl.NumberFormat(undefined,{notation:'compact',maximumFractionDigits:1}).format(n).replace(/^/,'$'));

    // Coin rain burst
    function coinRain(count=24){
      const root=document.body;
      for(let i=0;i<count;i++){
        const c=document.createElement('div'); c.className='coin';
        c.style.left = (Math.random()*100) + 'vw';
        c.style.animationDuration = (1.8 + Math.random()*1.6) + 's';
        c.style.filter = `hue-rotate(${Math.random()*10-5}deg)`;
        root.appendChild(c);
        setTimeout(()=>c.remove(), 2600);
      }
    }
    // Wheel FX
    function nearMiss(el){ el.classList.add('shake'); setTimeout(()=>el.classList.remove('shake'), 650); }
    function jackpotFlash(container){ const fx=document.createElement('div'); fx.className='jackpot'; container.appendChild(fx); setTimeout(()=>fx.remove(), 950); }

    // Export hooks for wheel.js
    window.solspinFX = { coinRain, nearMiss, jackpotFlash };

    // Live ticker refresh every 20s (optional)
    setInterval(() => {
      const el=document.querySelector('#ticker .track'); if(!el) return;
      const mc=document.getElementById('marketCapValue')?.textContent || '—';
      el.textContent = `🎰 Live • MC: ${mc} • Next draw soon…`;
    }, 20000);
  </script>
</body>

</html>
